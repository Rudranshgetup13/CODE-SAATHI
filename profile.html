<!DOCTYPE html>
<html>
<head>
  <title>Solver Profile - Code Saathi</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Syne:wght@400;600;800&display=swap');

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: 'Syne', sans-serif;
      background: #0f172a;
      color: white;
    }

    .container {
      width: 90%;
      max-width: 1100px;
      margin: auto;
      padding: 30px;
    }

    .card {
      background: #1e293b;
      border-radius: 15px;
      padding: 25px;
      box-shadow: 0 8px 25px rgba(0,0,0,0.4);
    }

    .profile-header {
      display: flex;
      align-items: center;
      gap: 25px;
      flex-wrap: wrap;
    }

    .profile-header img {
      width: 120px;
      border-radius: 50%;
      border: 4px solid #38bdf8;
    }

    .badge {
      background: #38bdf8;
      color: #0f172a;
      font-weight: 700;
      padding: 6px 14px;
      border-radius: 20px;
      font-size: 13px;
      display: inline-block;
      margin-top: 8px;
    }

    .stats-grid {
      margin-top: 30px;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
    }

    .stat-box {
      background: #1e293b;
      padding: 20px;
      border-radius: 12px;
      text-align: center;
      transition: 0.3s;
    }

    .stat-box:hover {
      transform: translateY(-5px);
      background: #334155;
    }

    .stat-box h2 {
      color: #38bdf8;
      margin: 0;
      font-family: 'JetBrains Mono', monospace;
      font-size: 2rem;
    }

    .section-title {
      margin-top: 40px;
      margin-bottom: 15px;
      font-size: 22px;
      font-weight: 800;
      border-left: 4px solid #38bdf8;
      padding-left: 10px;
    }

    .skill { margin-bottom: 15px; }
    .skill span { display: block; margin-bottom: 5px; font-size: 14px; }

    .progress {
      background: #334155;
      border-radius: 20px;
      overflow: hidden;
      height: 10px;
    }

    .progress-bar {
      height: 10px;
      background: linear-gradient(90deg, #38bdf8, #818cf8);
      border-radius: 20px;
      transition: width 1.2s ease;
    }

    .badges span {
      background: #334155;
      padding: 8px 15px;
      border-radius: 25px;
      margin: 5px;
      display: inline-block;
      font-size: 14px;
      transition: 0.2s;
    }

    .badges span:hover { background: #475569; transform: scale(1.05); }

    .activity {
      background: #1e293b;
      padding: 20px;
      border-radius: 15px;
      line-height: 1.8;
      font-size: 15px;
    }

    .status { color: #4ade80; font-weight: bold; }

    .back-btn {
      display: inline-block;
      margin-bottom: 20px;
      color: #38bdf8;
      text-decoration: none;
      font-size: 14px;
    }

    /* ‚îÄ‚îÄ PROBLEMS SOLVED SECTION ‚îÄ‚îÄ */
    .solve-section {
      background: #1e293b;
      border-radius: 15px;
      padding: 25px;
      display: flex;
      align-items: center;
      gap: 40px;
      flex-wrap: wrap;
    }

    .donut-wrapper {
      position: relative;
      width: 150px;
      height: 150px;
      flex-shrink: 0;
    }

    .donut-wrapper canvas { width: 150px !important; height: 150px !important; }

    .donut-center {
      position: absolute;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
    }

    .donut-center .total {
      font-family: 'JetBrains Mono', monospace;
      font-size: 2rem;
      font-weight: 700;
      color: #38bdf8;
      line-height: 1;
    }

    .donut-center .label {
      font-size: 11px;
      color: #94a3b8;
      margin-top: 4px;
    }

    .difficulty-list { flex: 1; min-width: 200px; }

    .diff-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 14px;
    }

    .diff-badge {
      padding: 3px 12px;
      border-radius: 20px;
      font-size: 13px;
      font-weight: 600;
      min-width: 60px;
      text-align: center;
    }

    .diff-easy  { background: rgba(74,222,128,0.15); color: #4ade80; }
    .diff-med   { background: rgba(251,191,36,0.15); color: #fbbf24; }
    .diff-hard  { background: rgba(248,113,113,0.15); color: #f87171; }

    .diff-count {
      font-family: 'JetBrains Mono', monospace;
      font-size: 15px;
      color: white;
    }

    .diff-total { color: #475569; font-size: 13px; }

    .diff-mini-bar {
      flex: 1;
      margin: 0 14px;
      background: #334155;
      border-radius: 10px;
      height: 6px;
      overflow: hidden;
    }

    .diff-mini-fill { height: 6px; border-radius: 10px; }
    .fill-easy { background: #4ade80; }
    .fill-med  { background: #fbbf24; }
    .fill-hard { background: #f87171; }

    /* ‚îÄ‚îÄ HEATMAP ‚îÄ‚îÄ */
    .heatmap-section {
      background: #1e293b;
      border-radius: 15px;
      padding: 25px;
    }

    .heatmap-meta {
      display: flex;
      gap: 30px;
      margin-bottom: 16px;
      font-size: 14px;
      color: #94a3b8;
      flex-wrap: wrap;
    }

    .heatmap-meta strong { color: white; }

    #heatmap-grid {
      display: grid;
      grid-template-columns: repeat(52, 1fr);
      gap: 3px;
      overflow-x: auto;
    }

    .heatmap-col { display: flex; flex-direction: column; gap: 3px; }

    .heatmap-cell {
      width: 12px;
      height: 12px;
      border-radius: 2px;
      background: #1e3a4c;
      cursor: default;
      transition: transform 0.15s;
    }

    .heatmap-cell:hover { transform: scale(1.4); }
    .heatmap-cell[data-level="1"] { background: #164e63; }
    .heatmap-cell[data-level="2"] { background: #0e7490; }
    .heatmap-cell[data-level="3"] { background: #0891b2; }
    .heatmap-cell[data-level="4"] { background: #38bdf8; }

    .heatmap-months {
      display: flex;
      gap: 0;
      font-size: 11px;
      color: #64748b;
      margin-bottom: 4px;
      padding-left: 0;
      overflow: hidden;
    }

    .month-label { flex: 1; text-align: left; }

    /* ‚îÄ‚îÄ LANGUAGE TAG ‚îÄ‚îÄ */
    .lang-section { display: flex; gap: 15px; flex-wrap: wrap; margin-top: 5px; }

    .lang-tag {
      background: #334155;
      border-radius: 10px;
      padding: 12px 20px;
      display: flex;
      align-items: center;
      gap: 12px;
      font-size: 14px;
    }

    .lang-dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
    }

    .lang-count {
      font-family: 'JetBrains Mono', monospace;
      color: #38bdf8;
      font-weight: 700;
    }

    /* ‚îÄ‚îÄ TOOLTIP ‚îÄ‚îÄ */
    .tooltip-box {
      position: fixed;
      background: #0f172a;
      border: 1px solid #334155;
      border-radius: 8px;
      padding: 8px 12px;
      font-size: 12px;
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.15s;
      z-index: 9999;
      color: #e2e8f0;
    }
  </style>
</head>
<body>

<div class="container">
  <a href="solverdashboard.html" class="back-btn">‚Üê Back to Dashboard</a>

  <!-- PROFILE -->
  <div class="card profile-header">
    <img src="https://i.pravatar.cc/150?img=12">
    <div>
      <h1 style="margin:0; font-size:2rem; font-weight:800;">MARDWA</h1>
      <div class="badge">Verified Solver</div>
      <p style="margin:8px 0 4px;">‚≠ê 4.8 Rating &nbsp;|&nbsp; üèÜ Rank #12</p>
      <p class="status" style="margin:0;">‚óè Currently Active</p>
      <p style="margin:4px 0 0;">‚úî 86 Issues Solved</p>
    </div>
  </div>

  <!-- QUICK STATS -->
  <div class="stats-grid">
    <div class="stat-box"><h2>92%</h2><p>Success Rate</p></div>
    <div class="stat-box"><h2>18 min</h2><p>Avg Response</p></div>
    <div class="stat-box"><h2>7 Days</h2><p>Active Streak</p></div>
  </div>

  <!-- PROBLEMS SOLVED -->
  <div class="section-title">Problems Solved</div>
  <div class="solve-section">
    <div class="donut-wrapper">
      <canvas id="donutChart"></canvas>
      <div class="donut-center">
        <div class="total">86</div>
        <div class="label">Solved</div>
      </div>
    </div>

    <div class="difficulty-list">
      <!-- Easy -->
      <div class="diff-item">
        <div class="diff-badge diff-easy">Easy</div>
        <div class="diff-mini-bar"><div class="diff-mini-fill fill-easy" style="width:72%"></div></div>
        <span class="diff-count">46 <span class="diff-total">/ 64</span></span>
      </div>
      <!-- Medium -->
      <div class="diff-item">
        <div class="diff-badge diff-med">Medium</div>
        <div class="diff-mini-bar"><div class="diff-mini-fill fill-med" style="width:48%"></div></div>
        <span class="diff-count">31 <span class="diff-total">/ 65</span></span>
      </div>
      <!-- Hard -->
      <div class="diff-item">
        <div class="diff-badge diff-hard">Hard</div>
        <div class="diff-mini-bar"><div class="diff-mini-fill fill-hard" style="width:18%"></div></div>
        <span class="diff-count">9 <span class="diff-total">/ 50</span></span>
      </div>
    </div>
  </div>

  <!-- HEATMAP -->
  <div class="section-title">Submission Activity</div>
  <div class="heatmap-section">
    <div class="heatmap-meta">
      <span>79 submissions in the past year</span>
      <span>Total active days: <strong>41</strong></span>
      <span>Max streak: <strong>7 days</strong></span>
    </div>
    <div class="heatmap-months" id="monthLabels"></div>
    <div style="overflow-x:auto;">
      <div id="heatmap-grid" style="display:flex; gap:3px;"></div>
    </div>
  </div>

  <!-- LANGUAGES -->
  <div class="section-title">Languages Used</div>
  <div class="lang-section">
    <div class="lang-tag">
      <div class="lang-dot" style="background:#f7df1e;"></div>
      <span>JavaScript</span>
      <span class="lang-count">42 solved</span>
    </div>
    <div class="lang-tag">
      <div class="lang-dot" style="background:#3b82f6;"></div>
      <span>Python</span>
      <span class="lang-count">28 solved</span>
    </div>
    <div class="lang-tag">
      <div class="lang-dot" style="background:#22c55e;"></div>
      <span>C++</span>
      <span class="lang-count">16 solved</span>
    </div>
  </div>

  <!-- SKILL STRENGTH -->
  <div class="section-title">Skill Strength</div>
  <div class="skill"><span>Backend Debugging (85%)</span><div class="progress"><div class="progress-bar" style="width:85%"></div></div></div>
  <div class="skill"><span>Frontend Issues (70%)</span><div class="progress"><div class="progress-bar" style="width:70%"></div></div></div>
  <div class="skill"><span>Database Errors (65%)</span><div class="progress"><div class="progress-bar" style="width:65%"></div></div></div>

  <!-- BADGES -->
  <div class="section-title">Achievements</div>
  <div class="badges">
    <span>üî• Fast Responder</span>
    <span>üéØ Backend Expert</span>
    <span>üèÖ 50+ Solves</span>
    <span>üëë Top 5 Solver</span>
  </div>

  <!-- RECENT ACTIVITY -->
  <div class="section-title">Recent Activity</div>
  <div class="activity">
    ‚úî Fixed API integration issue <span style="color:#64748b; font-size:13px;">2 hrs ago</span><br>
    ‚úî Solved MongoDB connection error <span style="color:#64748b; font-size:13px;">Yesterday</span><br>
    ‚úî Debugged authentication bug <span style="color:#64748b; font-size:13px;">3 days ago</span>
  </div>
</div>

<div class="tooltip-box" id="tooltip"></div>

<script>
// ‚îÄ‚îÄ DONUT CHART (Canvas) ‚îÄ‚îÄ
(function() {
  const canvas = document.getElementById('donutChart');
  canvas.width = 300; canvas.height = 300;
  const ctx = canvas.getContext('2d');
  const cx = 150, cy = 150, r = 110, w = 28;
  const data = [
    { val: 46, color: '#4ade80' },
    { val: 31, color: '#fbbf24' },
    { val: 9,  color: '#f87171' },
    { val: 0,  color: '#1e3a4c' }
  ];
  const total = 179;
  let start = -Math.PI / 2;

  // remaining
  data[3].val = total - 86;

  data.forEach(d => {
    const slice = (d.val / total) * Math.PI * 2;
    ctx.beginPath();
    ctx.arc(cx, cy, r, start, start + slice);
    ctx.arc(cx, cy, r - w, start + slice, start, true);
    ctx.closePath();
    ctx.fillStyle = d.color;
    ctx.fill();
    start += slice;
  });
})();

// ‚îÄ‚îÄ HEATMAP ‚îÄ‚îÄ
(function() {
  const grid = document.getElementById('heatmap-grid');
  const tooltip = document.getElementById('tooltip');
  const monthLabels = document.getElementById('monthLabels');

  const weeks = 52;
  const today = new Date();
  const startDate = new Date(today);
  startDate.setDate(today.getDate() - weeks * 7);

  // Random activity data with bursts
  function randLevel() {
    const r = Math.random();
    if (r < 0.55) return 0;
    if (r < 0.75) return 1;
    if (r < 0.88) return 2;
    if (r < 0.96) return 3;
    return 4;
  }

  // Month label positions
  const months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
  let lastMonth = -1;
  const monthPositions = [];

  for (let w = 0; w < weeks; w++) {
    const col = document.createElement('div');
    col.style.display = 'flex';
    col.style.flexDirection = 'column';
    col.style.gap = '3px';

    const weekStart = new Date(startDate);
    weekStart.setDate(startDate.getDate() + w * 7);

    if (weekStart.getMonth() !== lastMonth) {
      lastMonth = weekStart.getMonth();
      monthPositions.push({ week: w, name: months[lastMonth] });
    }

    for (let d = 0; d < 7; d++) {
      const cellDate = new Date(weekStart);
      cellDate.setDate(weekStart.getDate() + d);
      if (cellDate > today) continue;

      const cell = document.createElement('div');
      cell.className = 'heatmap-cell';
      const level = randLevel();
      cell.dataset.level = level;

      const dateStr = cellDate.toDateString();
      const count = level === 0 ? 0 : level * 2 + Math.floor(Math.random()*3);
      cell.title = `${dateStr}: ${count} submission${count !== 1 ? 's' : ''}`;

      cell.addEventListener('mousemove', (e) => {
        tooltip.style.opacity = '1';
        tooltip.style.left = (e.clientX + 12) + 'px';
        tooltip.style.top  = (e.clientY - 30) + 'px';
        tooltip.textContent = `${dateStr} ¬∑ ${count} submission${count !== 1 ? 's' : ''}`;
      });
      cell.addEventListener('mouseleave', () => { tooltip.style.opacity = '0'; });

      col.appendChild(cell);
    }
    grid.appendChild(col);
  }

  // Month labels
  monthPositions.forEach((mp, i) => {
    const span = document.createElement('span');
    span.className = 'month-label';
    span.textContent = mp.name;
    const nextWeek = monthPositions[i+1] ? monthPositions[i+1].week : weeks;
    span.style.flexBasis = ((nextWeek - mp.week) / weeks * 100) + '%';
    span.style.flexShrink = '0';
    span.style.fontSize = '11px';
    span.style.color = '#64748b';
    monthLabels.appendChild(span);
  });
})();
</script>

</body>
</html>


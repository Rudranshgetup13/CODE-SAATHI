<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>CODE SAATHI ‚Äî Solver Dashboard</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      --secondary: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      --accent: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
      --success: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
      --warning: linear-gradient(135deg, #fc466b 0%, #3f5efb 100%);
      --dark: #0a0a0a;
      --dark-secondary: #1a1a2e;
      --dark-accent: #16213e;
      --glass: rgba(255, 255, 255, 0.08);
      --glass-border: rgba(255, 255, 255, 0.15);
      --text-light: rgba(255, 255, 255, 0.95);
      --text-muted: rgba(255, 255, 255, 0.65);
      --neon-blue: #00d4ff;
      --neon-purple: #b537f2;
      --neon-green: #39ff14;
    }

    body {
      font-family: 'Inter', sans-serif;
      background: var(--dark);
      color: var(--text-light);
      min-height: 100vh;
      position: relative;
      overflow-x: hidden;
    }

    /* Enhanced Background */
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        radial-gradient(circle at 20% 80%, rgba(0, 212, 255, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(181, 55, 242, 0.15) 0%, transparent 50%),
        linear-gradient(135deg, var(--dark) 0%, var(--dark-secondary) 50%, var(--dark-accent) 100%);
      z-index: -3;
    }

    body::after {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        linear-gradient(rgba(0, 212, 255, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0, 212, 255, 0.03) 1px, transparent 1px);
      background-size: 60px 60px;
      z-index: -2;
      opacity: 0.5;
    }

    /* Header */
    .main-header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      padding: 1.5rem 2rem;
      background: rgba(10, 10, 10, 0.9);
      backdrop-filter: blur(25px);
      border-bottom: 1px solid var(--glass-border);
    }

    .header-content {
      display: flex;
      align-items: center;
      justify-content: space-between;
      max-width: 1400px;
      margin: 0 auto;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      font-size: 1.75rem;
      font-weight: 800;
      background: var(--primary);
      background-clip: text;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .logo-mark {
      font-size: 2.5rem;
      filter: drop-shadow(0 0 15px rgba(102, 126, 234, 0.6));
    }

    .nav-links {
      display: flex;
      align-items: center;
      gap: 2rem;
    }

    .nav-links a {
      color: var(--text-muted);
      text-decoration: none;
      font-weight: 500;
      transition: all 0.3s ease;
      position: relative;
    }

    .nav-links a:hover,
    .nav-links a.active {
      color: var(--text-light);
    }

    .nav-links a::after {
      content: '';
      position: absolute;
      bottom: -5px;
      left: 0;
      width: 0;
      height: 2px;
      background: var(--primary);
      transition: width 0.3s ease;
    }

    .nav-links a:hover::after,
    .nav-links a.active::after {
      width: 100%;
    }

    .btn {
      padding: 0.75rem 2rem;
      border: none;
      border-radius: 12px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      text-decoration: none;
      display: inline-block;
      position: relative;
      overflow: hidden;
    }

    .btn.primary {
      background: var(--primary);
      color: white;
    }

    .btn.primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 15px 35px rgba(102, 126, 234, 0.4);
    }

    .btn-outline {
      background: transparent;
      border: 2px solid var(--glass-border);
      color: var(--text-light);
    }

    .btn-outline:hover {
      background: var(--glass);
      transform: translateY(-2px);
    }

    /* Main Layout */
    .main-container {
      margin-top: 100px;
      display: grid;
      grid-template-columns: 280px 1fr;
      gap: 2rem;
      max-width: 1400px;
      margin-left: auto;
      margin-right: auto;
      padding: 2rem;
      min-height: calc(100vh - 100px);
    }

    /* Sidebar */
    .sidebar {
      background: var(--glass);
      backdrop-filter: blur(25px);
      border: 1px solid var(--glass-border);
      border-radius: 20px;
      padding: 2rem;
      height: fit-content;
      position: sticky;
      top: 120px;
    }

    .profile-section {
      text-align: center;
      margin-bottom: 2rem;
      padding-bottom: 2rem;
      border-bottom: 1px solid var(--glass-border);
    }

    .profile-avatar {
      width: 80px;
      height: 80px;
      background: var(--primary);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      margin: 0 auto 1rem;
      box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
    }

    .profile-name {
      font-weight: 700;
      font-size: 1.2rem;
      margin-bottom: 0.5rem;
    }

    .profile-title {
      color: var(--text-muted);
      font-size: 0.9rem;
      margin-bottom: 1rem;
    }

    .profile-stats {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
      margin-top: 1rem;
    }

    .stat-card {
      text-align: center;
      padding: 1rem;
      background: rgba(255, 255, 255, 0.03);
      border-radius: 12px;
    }

    .stat-number {
      display: block;
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--neon-blue);
    }

    .stat-label {
      font-size: 0.8rem;
      color: var(--text-muted);
    }

    .filters {
      margin-bottom: 2rem;
    }

    .filter-group {
      margin-bottom: 1.5rem;
    }

    .filter-title {
      font-weight: 600;
      margin-bottom: 0.75rem;
      color: var(--text-light);
    }

    .filter-options {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .filter-option {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      cursor: pointer;
      padding: 0.5rem;
      border-radius: 8px;
      transition: background 0.2s;
    }

    .filter-option:hover {
      background: rgba(255, 255, 255, 0.05);
    }

    .filter-option input[type="checkbox"] {
      accent-color: #4facfe;
    }

    /* Main Content */
    .main-content {
      display: flex;
      flex-direction: column;
      gap: 2rem;
    }

    .dashboard-header {
      display: flex;
      justify-content: between;
      align-items: center;
      flex-wrap: wrap;
      gap: 1rem;
      margin-bottom: 2rem;
    }

    .page-title {
      font-size: 2.5rem;
      font-weight: 800;
      background: var(--primary);
      background-clip: text;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .dashboard-actions {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .search-bar {
      position: relative;
      min-width: 300px;
    }

    .search-bar input {
      width: 100%;
      padding: 1rem 1rem 1rem 3rem;
      background: var(--glass);
      border: 1px solid var(--glass-border);
      border-radius: 50px;
      color: var(--text-light);
      font-family: inherit;
    }

    .search-bar::before {
      content: 'üîç';
      position: absolute;
      left: 1rem;
      top: 50%;
      transform: translateY(-50%);
      font-size: 1.2rem;
    }

    .sort-dropdown {
      padding: 1rem 1.5rem;
      background: var(--glass);
      border: 1px solid var(--glass-border);
      border-radius: 12px;
      color: var(--text-light);
      font-family: inherit;
      cursor: pointer;
    }

    /* Problem Cards */
    .problems-grid {
      display: grid;
      gap: 2rem;
    }

    .problem-card {
      background: var(--glass);
      backdrop-filter: blur(25px);
      border: 1px solid var(--glass-border);
      border-radius: 20px;
      padding: 2rem;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .problem-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: var(--accent);
    }

    .problem-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      border-color: rgba(79, 172, 254, 0.3);
    }

    .problem-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 1rem;
    }

    .problem-title {
      font-size: 1.3rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
      color: var(--text-light);
      line-height: 1.4;
    }

    .problem-meta {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-bottom: 1rem;
      flex-wrap: wrap;
    }

    .meta-item {
      display: flex;
      align-items: center;
      gap: 0.25rem;
      font-size: 0.85rem;
      color: var(--text-muted);
    }

    .priority-badge {
      padding: 0.25rem 0.75rem;
      border-radius: 15px;
      font-size: 0.8rem;
      font-weight: 600;
      text-transform: uppercase;
    }

    .priority-low { background: rgba(57, 255, 20, 0.2); color: var(--neon-green); }
    .priority-normal { background: rgba(255, 193, 7, 0.2); color: #ffd700; }
    .priority-high { background: rgba(255, 152, 0, 0.2); color: #ff9800; }
    .priority-urgent { background: rgba(244, 67, 54, 0.2); color: #f44336; }
    .priority-critical { background: rgba(156, 39, 176, 0.2); color: #9c27b0; }

    .budget-badge {
      background: var(--success);
      color: white;
      padding: 0.5rem 1rem;
      border-radius: 20px;
      font-weight: 700;
      font-size: 1.1rem;
      box-shadow: 0 4px 15px rgba(17, 153, 142, 0.3);
    }

    .problem-description {
      color: var(--text-muted);
      line-height: 1.6;
      margin-bottom: 1.5rem;
      font-family: 'JetBrains Mono', monospace;
      background: rgba(255, 255, 255, 0.03);
      padding: 1rem;
      border-radius: 12px;
      border-left: 3px solid var(--neon-blue);
      max-height: 120px;
      overflow: hidden;
      position: relative;
    }

    .problem-description::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 40px;
      background: linear-gradient(transparent, rgba(10, 10, 10, 0.9));
    }

    .skills-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-bottom: 1.5rem;
    }

    .skill-tag {
      padding: 0.25rem 0.75rem;
      background: rgba(79, 172, 254, 0.15);
      border: 1px solid rgba(79, 172, 254, 0.3);
      border-radius: 15px;
      font-size: 0.8rem;
      color: var(--neon-blue);
      font-weight: 500;
    }

    .problem-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 1.5rem;
      padding-top: 1rem;
      border-top: 1px solid var(--glass-border);
    }

    .problem-actions {
      display: flex;
      gap: 1rem;
    }

    .btn-small {
      padding: 0.5rem 1.5rem;
      font-size: 0.9rem;
    }

    .btn.success {
      background: var(--success);
      color: white;
    }

    .btn.success:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 25px rgba(17, 153, 142, 0.4);
    }

    .time-posted {
      color: var(--text-muted);
      font-size: 0.85rem;
    }

    /* Empty State */
    .empty-state {
      text-align: center;
      padding: 4rem 2rem;
      color: var(--text-muted);
    }

    .empty-state-icon {
      font-size: 4rem;
      margin-bottom: 1rem;
      opacity: 0.5;
    }

    /* Live Indicators */
    .live-indicator {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 1rem;
      background: rgba(57, 255, 20, 0.1);
      border: 1px solid rgba(57, 255, 20, 0.3);
      border-radius: 20px;
      font-size: 0.875rem;
      margin-bottom: 2rem;
    }

    .live-dot {
      width: 8px;
      height: 8px;
      background: var(--neon-green);
      border-radius: 50%;
      animation: livePulse 1.5s ease-in-out infinite;
    }

    @keyframes livePulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    /* Modal */
    .modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(10px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 2000;
    }

    .modal.show {
      display: flex;
    }

    .modal-card {
      background: var(--glass);
      backdrop-filter: blur(25px);
      border: 1px solid var(--glass-border);
      border-radius: 24px;
      padding: 3rem;
      max-width: 800px;
      width: 90%;
      max-height: 90vh;
      overflow-y: auto;
      position: relative;
      box-shadow: 0 25px 80px rgba(0, 0, 0, 0.5);
    }

    .modal-close {
      position: absolute;
      top: 1.5rem;
      right: 1.5rem;
      background: none;
      border: none;
      color: var(--text-muted);
      font-size: 1.5rem;
      cursor: pointer;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      transition: all 0.2s;
    }

    .modal-close:hover {
      background: rgba(255, 255, 255, 0.1);
      color: var(--text-light);
    }

    .problem-details {
      margin-bottom: 2rem;
    }

    .detail-section {
      margin-bottom: 2rem;
    }

    .detail-title {
      font-weight: 700;
      margin-bottom: 1rem;
      color: var(--text-light);
      font-size: 1.1rem;
    }

    .attachments-list {
      display: grid;
      gap: 0.5rem;
    }

    .attachment-item {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 0.75rem;
      background: rgba(255, 255, 255, 0.03);
      border-radius: 8px;
      border: 1px solid var(--glass-border);
    }

    .proposal-form {
      background: rgba(255, 255, 255, 0.03);
      padding: 2rem;
      border-radius: 16px;
      border: 1px solid var(--glass-border);
    }

    .form-group {
      margin-bottom: 1.5rem;
    }

    .form-group label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 600;
      color: var(--text-light);
    }

    .form-group input,
    .form-group textarea,
    .form-group select {
      width: 100%;
      padding: 1rem;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid var(--glass-border);
      border-radius: 12px;
      color: var(--text-light);
      font-family: inherit;
    }

    .form-group textarea {
      min-height: 100px;
      resize: vertical;
    }

    .form-actions {
      display: flex;
      gap: 1rem;
      margin-top: 2rem;
    }

    /* Responsive */
    @media (max-width: 1024px) {
      .main-container {
        grid-template-columns: 1fr;
        gap: 1rem;
        padding: 1rem;
      }
      
      .sidebar {
        position: static;
      }
    }

    @media (max-width: 768px) {
      .nav-links {
        display: none;
      }
      
      .dashboard-header {
        flex-direction: column;
        align-items: stretch;
      }
      
      .dashboard-actions {
        flex-direction: column;
      }
      
      .search-bar {
        min-width: auto;
      }
      
      .problem-footer {
        flex-direction: column;
        gap: 1rem;
        align-items: stretch;
      }
      
      .problem-actions {
        justify-content: center;
      }
    }

    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .problem-card {
      animation: fadeIn 0.5s ease-out;
    }

    .problem-card:nth-child(2) { animation-delay: 0.1s; }
    .problem-card:nth-child(3) { animation-delay: 0.2s; }
    .problem-card:nth-child(4) { animation-delay: 0.3s; }

    /* Loading State */
    .loading {
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 4rem;
      color: var(--text-muted);
    }

    .spinner {
      width: 40px;
      height: 40px;
      border: 3px solid var(--glass-border);
      border-top: 3px solid var(--neon-blue);
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-right: 1rem;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Success Messages */
    .success-message {
      background: rgba(57, 255, 20, 0.1);
      border: 1px solid rgba(57, 255, 20, 0.3);
      color: var(--neon-green);
      padding: 1rem;
      border-radius: 12px;
      margin: 1rem 0;
      animation: successSlide 0.5s ease;
    }

    @keyframes successSlide {
      from { transform: translateX(-100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="main-header">
    <div class="header-content">
      <div class="brand">
        <span class="logo-mark">üëë</span>
        <span class="logo-text">CODESAATHI</span>
      </div>

      <nav class="nav-links">
        <a href="index.html">Home</a>
        <a href="asker.html">Post Problem</a>
        <a href="#" class="active">Solver Dashboard</a>
        <a href="profile.html">My Profile</a>
        <button class="btn btn-outline">Settings</button>
        <button class="btn primary">üí∞ Earnings:1000 points </button>
      </nav>
    </div>
  </header>

  <!-- Main Layout -->
  <div class="main-container">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="profile-section">
        <div class="profile-avatar">üë®‚Äçüíª</div>
        <div class="profile-name">RUDRANSH</div>
        <div class="profile-title">Full Stack Developer</div>
        <div class="profile-stats">
          <div class="stat-card">
            <span class="stat-number">47</span>
            <span class="stat-label">Solved</span>
          </div>
          <div class="stat-card">
            <span class="stat-number">4.9</span>
            <span class="stat-label">Rating</span>
          </div>
        </div>
      </div>

      <div class="filters">
        <div class="filter-group">
          <div class="filter-title">üéØ Categories</div>
          <div class="filter-options">
            <label class="filter-option">
              <input type="checkbox" id="frontend" checked>
              <span>Frontend (12)</span>
            </label>
            <label class="filter-option">
              <input type="checkbox" id="backend" checked>
              <span>Backend (8)</span>
            </label>
            <label class="filter-option">
              <input type="checkbox" id="fullstack">
              <span>Full Stack (5)</span>
            </label>
            <label class="filter-option">
              <input type="checkbox" id="mobile">
              <span>Mobile (3)</span>
            </label>
            <label class="filter-option">
              <input type="checkbox" id="data">
              <span>Data/ML (7)</span>
            </label>
          </div>
        </div>

        <div class="filter-group">
          <div class="filter-title">üí∞ Budget Range</div>
          <div class="filter-options">
            <label class="filter-option">
              <input type="checkbox" id="budget-low">
              <span>100 - 200 points (15)</span>
            </label>
            <label class="filter-option">
              <input type="checkbox" id="budget-mid" checked>
              <span>50-100 points (20)</span>
            </label>
            <label class="filter-option">
              <input type="checkbox" id="budget-high">
              <span>190-280 (10)</span>
            </label>
          </div>
        </div>

        <div class="filter-group">
          <div class="filter-title">‚è∞ Priority</div>
          <div class="filter-options">
            <label class="filter-option">
              <input type="checkbox" id="urgent" checked>
              <span>üî¥ Urgent (4)</span>
            </label>
            <label class="filter-option">
              <input type="checkbox" id="high" checked>
              <span>üü† High (8)</span>
            </label>
            <label class="filter-option">
              <input type="checkbox" id="normal" checked>
              <span>üü° Normal (23)</span>
            </label>
          </div>
        </div>
      </div>

      <button class="btn primary full" style="width: 100%;">
        üîÑ Refresh Problems
      </button>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <div class="live-indicator">
        <div class="live-dot"></div>
        35 new problems posted in last hour
      </div>

  

      <div class="dashboard-header">
        <h1 class="page-title">üöÄ Available Problems</h1>
        <div class="dashboard-actions">
          <div class="search-bar">
            <input type="text" id="searchInput" placeholder="Search problems by title, skills, or description...">
          </div>
          <select class="sort-dropdown" id="sortSelect">
            <option value="latest">üÜï Latest First</option>
            <option value="budget-high">üí∞ Highest Budget</option>
            <option value="budget-low">üí∏ Lowest Budget</option>
            <option value="urgent">üî• Most Urgent</option>
            <option value="deadline">‚è∞ Earliest Deadline</option>
          </select>
        </div>
      </div>

      <div class="problems-grid" id="problemsContainer">
        <div class="loading" id="loadingIndicator">
          <div class="spinner"></div>
          Loading problems...
        </div>
      </div>
    </main>
  </div>

  <!-- Problem Details Modal -->
  <div class="modal" id="problemModal">
    <div class="modal-card">
      <button class="modal-close" id="closeModal">√ó</button>
      
      <div class="problem-details" id="problemDetails">
        <!-- Problem details will be loaded here -->
      </div>

      <div class="proposal-form">
        <h3 style="margin-bottom: 1.5rem; color: var(--text-light);">üí° Submit Your Proposal</h3>
        
        <form id="proposalForm">
          <div class="form-group">
            <label for="proposalBudget">üí∞ Your Quote ()</label>
            <input type="number" id="proposalBudget" min="" step="50" required>
          </div>
          
          <div class="form-group">
            <label for="proposalTimeline">‚è∞ Delivery Timeline</label>
            <select id="proposalTimeline" required>
              <option value="">Select timeline</option>
              <option value="1-day">Within 24 hours</option>
              <option value="2-days">2-3 days</option>
              <option value="1-week">Within 1 week</option>
              <option value="2-weeks">1-2 weeks</option>
              <option value="custom">Custom timeline</option>
            </select>
          </div>
          
          <div class="form-group">
            <label for="proposalMessage">üìù Your Approach & Message</label>
            <textarea id="proposalMessage" placeholder="Explain how you'll solve this problem, your experience with similar issues, and any questions you have..." required></textarea>
          </div>
          
          <div class="form-actions">
            <button type="button" class="btn btn-outline full" onclick="closeModal()">Cancel</button>
            <button type="submit" class="btn success full">üöÄ Submit Proposal</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <script>
    // Sample problems data (in real app, this would come from backend)
    let allProblems = [];
    let filteredProblems = [];

    // Load problems from the asker page
    function loadProblems() {
      // Get problems from sessionStorage (posted from asker page)
      const storedProblems = JSON.parse(sessionStorage.getItem('CODESAATHIProblems') || '[]');
      
      // Sample additional problems for demonstration
      const sampleProblems = [
        {
          id: '#ABC123DEF',
          title: 'React state not updating in nested component after API call',
          description: `I'm having an issue where my React component state isn't updating after making an API call. The API returns data successfully but the component doesn't re-render.

          Here's what I've tried:
          - Using useEffect with proper dependencies
          - Checking if the API call is successful (it is)
          - Using console.log to verify data is received
          
          Expected: Component should re-render with new data
          Actual: Component shows old/initial state
          
          Environment: React 18.2.0, Node.js 16.14.0, Chrome 120`,
          category: 'frontend',
          budget: 120 ,
          deadline: '2025-01-10T18:00',
          urgency: 'high',
          skills: ['React.js', 'JavaScript', 'API Integration', 'useState', 'useEffect'],
          email: 'user@example.com',
          contact: 'email',
          timestamp: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(), // 2 hours ago
          status: 'active',
          attachments: ['screenshot.png', 'component-code.js']
        },
        {
          id: '#XYZ789GHI',
          title: 'Node.js API performance optimization - slow database queries',
          description: `My Node.js API is experiencing slow response times, especially for database queries. Some endpoints are taking 5-10 seconds to respond.

          Current setup:
          - Express.js server
          - MongoDB with Mongoose
          - No caching implemented
          - Multiple database calls per request
          
          Need help with:
          - Query optimization
          - Implementing caching (Redis)
          - Database indexing
          - Code review for bottlenecks`,
          category: 'backend',
          budget: 250,
          deadline: '2025-01-15T12:00',
          urgency: 'urgent',
          skills: ['Node.js', 'Express.js', 'MongoDB', 'Performance', 'Redis', 'Database Optimization'],
          email: 'dev@company.com',
          contact: 'whatsapp',
          timestamp: new Date(Date.now() - 4 * 60 * 60 * 1000).toISOString(), // 4 hours ago
          status: 'active',
          attachments: ['server.js', 'performance-report.pdf']
        },
        {
          id: '#PQR456STU',
          title: 'Flutter app crashing on iOS device but works fine on Android',
          description: `My Flutter app crashes consistently on iOS devices (iPhone 13, iOS 17.2) but works perfectly on Android. The crash happens when trying to access device camera.

          Error from Xcode:
          "Thread 1: EXC_BAD_ACCESS (code=1, address=0x0)"
          
          Already tried:
          - Updating Flutter to latest version
          - Cleaning build folder
          - Checking camera permissions
          
          Need urgent fix as app launch is tomorrow!`,
          category: 'mobile',
          budget: 3000,
          deadline: '2025-01-09T09:00',
          urgency: 'critical',
          skills: ['Flutter', 'Dart', 'iOS Development', 'Camera API', 'Debugging'],
          email: 'mobile@startup.com',
          contact: 'telegram',
          timestamp: new Date(Date.now() - 30 * 60 * 1000).toISOString(), // 30 minutes ago
          status: 'active',
          attachments: ['crash-log.txt', 'main.dart', 'ios-config.plist']
        }
      ];

      // Combine stored problems with sample problems
      allProblems = [...storedProblems, ...sampleProblems];
      filteredProblems = [...allProblems];
      
      renderProblems();
    }

    // Render problems to the page
    function renderProblems() {
      const container = document.getElementById('problemsContainer');
      const loading = document.getElementById('loadingIndicator');
      
      if (loading) loading.style.display = 'none';
      
      if (filteredProblems.length === 0) {
        container.innerHTML = `
          <div class="empty-state">
            <div class="empty-state-icon">üîç</div>
            <h3>No problems match your filters</h3>
            <p>Try adjusting your search criteria or filters to see more problems.</p>
          </div>
        `;
        return;
      }

      container.innerHTML = filteredProblems.map(problem => `
        <div class="problem-card" data-id="${problem.id}">
          <div class="problem-header">
            <div>
              <h3 class="problem-title">${problem.title}</h3>
              <div class="problem-meta">
                <span class="meta-item">üìÖ ${formatTimeAgo(problem.timestamp)}</span>
                <span class="meta-item">üìÇ ${formatCategory(problem.category)}</span>
                <span class="meta-item">‚è∞ Due: ${formatDeadline(problem.deadline)}</span>
                <span class="priority-badge priority-${problem.urgency}">${formatUrgency(problem.urgency)}</span>
              </div>
            </div>
            <div class="budget-badge">${problem.budget}</div>
          </div>

          <div class="problem-description">
            ${problem.description}
          </div>

          <div class="skills-tags">
            ${problem.skills.map(skill => `<span class="skill-tag">${skill}</span>`).join('')}
          </div>

          <div class="problem-footer">
            <div class="time-posted">
              Posted ${formatTimeAgo(problem.timestamp)} ‚Ä¢ ${problem.attachments ? problem.attachments.length : 0} attachments
            </div>
            <div class="problem-actions">
              <button class="btn btn-outline btn-small" onclick="viewProblem('${problem.id}')">
                üëÅÔ∏è View Details
              </button>
              <button class="btn success btn-small" onclick="applyToProblem('${problem.id}')">
                üöÄ Apply Now
              </button>
            </div>
          </div>
        </div>
      `).join('');
    }

    // Helper functions for formatting
    function formatTimeAgo(timestamp) {
      const now = new Date();
      const posted = new Date(timestamp);
      const diff = now - posted;
      const minutes = Math.floor(diff / (1000 * 60));
      const hours = Math.floor(minutes / 60);
      const days = Math.floor(hours / 24);

      if (days > 0) return `${days}d ago`;
      if (hours > 0) return `${hours}h ago`;
      if (minutes > 0) return `${minutes}m ago`;
      return 'Just now';
    }

    function formatCategory(category) {
      const categories = {
        frontend: 'üé® Frontend',
        backend: '‚öôÔ∏è Backend',
        fullstack: 'üîÑ Full Stack',
        mobile: 'üì± Mobile',
        data: 'üìä Data/ML',
        devops: 'üîß DevOps',
        blockchain: '‚õìÔ∏è Blockchain',
        ai: 'ü§ñ AI/ML'
      };
      return categories[category] || category;
    }

    function formatDeadline(deadline) {
      const date = new Date(deadline);
      const now = new Date();
      const diff = date - now;
      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor(diff / (1000 * 60 * 60));

      if (days > 0) return `${days}d left`;
      if (hours > 0) return `${hours}h left`;
      return 'Due soon!';
    }

    function formatUrgency(urgency) {
      const urgencyMap = {
        low: 'üü¢ Low',
        normal: 'üü° Normal',
        high: 'üü† High',
        urgent: 'üî¥ Urgent',
        critical: '‚ö° Critical'
      };
      return urgencyMap[urgency] || urgency;
    }

    // View problem details
    function viewProblem(problemId) {
      const problem = allProblems.find(p => p.id === problemId);
      if (!problem) return;

      const detailsHtml = `
        <h2 style="margin-bottom: 1rem; color: var(--text-light);">${problem.title}</h2>
        
        <div style="display: flex; gap: 1rem; margin-bottom: 2rem; flex-wrap: wrap;">
          <span class="budget-badge">${problem.budget}</span>
          <span class="priority-badge priority-${problem.urgency}">${formatUrgency(problem.urgency)}</span>
          <span class="meta-item">üìÖ ${formatTimeAgo(problem.timestamp)}</span>
          <span class="meta-item">‚è∞ Due: ${formatDeadline(problem.deadline)}</span>
        </div>

        <div class="detail-section">
          <h3 class="detail-title">üìã Problem Description</h3>
          <div style="background: rgba(255,255,255,0.03); padding: 1.5rem; border-radius: 12px; border-left: 3px solid var(--neon-blue); font-family: 'JetBrains Mono', monospace; line-height: 1.6; white-space: pre-wrap;">${problem.description}</div>
        </div>

        <div class="detail-section">
          <h3 class="detail-title">üõ†Ô∏è Required Skills</h3>
          <div class="skills-tags">
            ${problem.skills.map(skill => `<span class="skill-tag">${skill}</span>`).join('')}
          </div>
        </div>

        ${problem.attachments && problem.attachments.length > 0 ? `
          <div class="detail-section">
            <h3 class="detail-title">üìé Attachments</h3>
            <div class="attachments-list">
              ${problem.attachments.map(file => `
                <div class="attachment-item">
                  <span>üìÑ ${file}</span>
                  <button class="btn btn-outline btn-small">Download</button>
                </div>
              `).join('')}
            </div>
          </div>
        ` : ''}

        <div class="detail-section">
          <h3 class="detail-title">üìû Contact Information</h3>
          <p style="color: var(--text-muted);">
            üìß Preferred contact: ${problem.contact}<br>
            üìÆ Email: ${problem.email.substring(0, 3)}***@${problem.email.split('@')[1]}
          </p>
        </div>
      `;

      document.getElementById('problemDetails').innerHTML = detailsHtml;
      document.getElementById('problemModal').classList.add('show');
      
      // Set suggested budget (80-120% of original)
      const suggestedBudget = Math.round(problem.budget * (0.8 + Math.random() * 0.4));
      document.getElementById('proposalBudget').value = suggestedBudget;
    }

    // Apply to problem
    function applyToProblem(problemId) {
      viewProblem(problemId);
      // Scroll to proposal form
      setTimeout(() => {
        document.querySelector('.proposal-form').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
      }, 100);
    }

    // Close modal
    function closeModal() {
      document.getElementById('problemModal').classList.remove('show');
    }

    // Submit proposal
    function submitProposal(e) {
      e.preventDefault();
      
      const budget = document.getElementById('proposalBudget').value;
      const timeline = document.getElementById('proposalTimeline').value;
      const message = document.getElementById('proposalMessage').value;
      
      if (!budget || !timeline || !message) {
        alert('Please fill in all required fields');
        return;
      }
      
      // Simulate proposal submission
      const submitBtn = e.target.querySelector('button[type="submit"]');
      submitBtn.textContent = 'üîÑ Submitting...';
      submitBtn.disabled = true;
      
      setTimeout(() => {
        closeModal();
        showSuccessMessage('üéâ Proposal submitted successfully! The client will be notified and will review your application.');
        
        // Reset form
        document.getElementById('proposalForm').reset();
        submitBtn.textContent = 'üöÄ Submit Proposal';
        submitBtn.disabled = false;
      }, 2000);
    }

    // Show success message
    function showSuccessMessage(message) {
      const messageDiv = document.createElement('div');
      messageDiv.className = 'success-message';
      messageDiv.textContent = message;
      
      const container = document.querySelector('.main-content');
      container.insertBefore(messageDiv, container.firstChild);
      
      setTimeout(() => {
        messageDiv.remove();
      }, 8000);
    }

    // Search functionality
    function filterProblems() {
      const searchTerm = document.getElementById('searchInput').value.toLowerCase();
      const sortBy = document.getElementById('sortSelect').value;
      
      // Filter by search term
      let filtered = allProblems.filter(problem => {
        return problem.title.toLowerCase().includes(searchTerm) ||
               problem.description.toLowerCase().includes(searchTerm) ||
               problem.skills.some(skill => skill.toLowerCase().includes(searchTerm));
      });
      
      // Apply category filters
      const checkedCategories = [];
      ['frontend', 'backend', 'fullstack', 'mobile', 'data'].forEach(cat => {
        if (document.getElementById(cat)?.checked) {
          checkedCategories.push(cat);
        }
      });
      
      if (checkedCategories.length > 0) {
        filtered = filtered.filter(problem => checkedCategories.includes(problem.category));
      }
      
      // Apply budget filters
      const budgetFilters = [];
      if (document.getElementById('budget-low')?.checked) budgetFilters.push('low');
      if (document.getElementById('budget-mid')?.checked) budgetFilters.push('mid');
      if (document.getElementById('budget-high')?.checked) budgetFilters.push('high');
      
      if (budgetFilters.length > 0) {
        filtered = filtered.filter(problem => {
          const budget = problem.budget;
          if (budgetFilters.includes('low') && budget >= 100 && budget <= 500) return true;
          if (budgetFilters.includes('mid') && budget > 500 && budget <= 2000) return true;
          if (budgetFilters.includes('high') && budget > 2000) return true;
          return false;
        });
      }
      
      // Apply urgency filters
      const urgencyFilters = [];
      if (document.getElementById('urgent')?.checked) urgencyFilters.push('urgent', 'critical');
      if (document.getElementById('high')?.checked) urgencyFilters.push('high');
      if (document.getElementById('normal')?.checked) urgencyFilters.push('normal', 'low');
      
      if (urgencyFilters.length > 0) {
        filtered = filtered.filter(problem => urgencyFilters.includes(problem.urgency));
      }
      
      // Sort problems
      switch (sortBy) {
        case 'budget-high':
          filtered.sort((a, b) => b.budget - a.budget);
          break;
        case 'budget-low':
          filtered.sort((a, b) => a.budget - b.budget);
          break;
        case 'urgent':
          const urgencyOrder = { critical: 5, urgent: 4, high: 3, normal: 2, low: 1 };
          filtered.sort((a, b) => (urgencyOrder[b.urgency] || 0) - (urgencyOrder[a.urgency] || 0));
          break;
        case 'deadline':
          filtered.sort((a, b) => new Date(a.deadline) - new Date(b.deadline));
          break;
        default: // latest
          filtered.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));
      }
      
      filteredProblems = filtered;
      renderProblems();
    }

    // Real-time updates simulation
    function simulateRealTimeUpdates() {
      setInterval(() => {
        // Randomly add new problems or update existing ones
        if (Math.random() > 0.7) {
          const newProblemTitles = [
            'CSS Grid layout not working in Safari browser',
            'MongoDB aggregation pipeline optimization needed',
            'React Native app not building for iOS after Xcode update',
            'Python data processing script memory leak issue',
            'Docker container not starting in production environment',
            'Vue.js component props not updating reactively'
          ];
          
          const newProblem = {
            id: '#' + Math.random().toString(36).substr(2, 9).toUpperCase(),
            title: newProblemTitles[Math.floor(Math.random() * newProblemTitles.length)],
            description: 'Detailed problem description with steps to reproduce and expected vs actual behavior...',
            category: ['frontend', 'backend', 'mobile', 'data'][Math.floor(Math.random() * 4)],
            budget: Math.floor(Math.random() * 3000) + 500,
            deadline: new Date(Date.now() + Math.random() * 7 * 24 * 60 * 60 * 1000).toISOString(),
            urgency: ['normal', 'high', 'urgent'][Math.floor(Math.random() * 3)],
            skills: ['JavaScript', 'Python', 'React', 'Node.js'][Math.floor(Math.random() * 4)],
            email: 'user@example.com',
            contact: 'email',
            timestamp: new Date().toISOString(),
            status: 'active',
            attachments: []
          };
          
          allProblems.unshift(newProblem);
          
          // Update live indicator
          const liveIndicator = document.querySelector('.live-indicator');
          if (liveIndicator) {
            const currentCount = parseInt(liveIndicator.textContent.match(/\d+/)[0]) + 1;
            liveIndicator.innerHTML = `
              <div class="live-dot"></div>
              ${currentCount} new problems posted in last hour
            `;
          }
          
          filterProblems(); // Re-render with filters applied
        }
      }, 30000); // Every 30 seconds
    }

    // Auto-refresh problems
    function refreshProblems() {
      const container = document.getElementById('problemsContainer');
      container.innerHTML = '<div class="loading"><div class="spinner"></div>Refreshing problems...</div>';
      
      setTimeout(() => {
        loadProblems();
        showSuccessMessage('üîÑ Problems refreshed! ' + allProblems.length + ' problems loaded.');
      }, 1500);
    }

    // Notification system
    function showNotification(message, type = 'info') {
      const notification = document.createElement('div');
      notification.className = `notification notification-${type}`;
      notification.innerHTML = `
        <span>${message}</span>
        <button onclick="this.parentElement.remove()">√ó</button>
      `;
      
      // Add notification styles
      notification.style.cssText = `
        position: fixed;
        top: 120px;
        right: 2rem;
        background: var(--glass);
        backdrop-filter: blur(25px);
        border: 1px solid var(--glass-border);
        border-radius: 12px;
        padding: 1rem 1.5rem;
        color: var(--text-light);
        z-index: 1500;
        animation: slideInRight 0.3s ease;
        max-width: 400px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
      `;
      
      document.body.appendChild(notification);
      
      // Auto remove after 5 seconds
      setTimeout(() => {
        if (notification.parentElement) {
          notification.remove();
        }
      }, 5000);
    }

    // Keyboard shortcuts
    function setupKeyboardShortcuts() {
      document.addEventListener('keydown', (e) => {
        // Ctrl/Cmd + K to focus search
        if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
          e.preventDefault();
          document.getElementById('searchInput').focus();
        }
        
        // Escape to close modal
        if (e.key === 'Escape') {
          closeModal();
        }
        
        // Ctrl/Cmd + R to refresh problems
        if ((e.ctrlKey || e.metaKey) && e.key === 'r') {
          e.preventDefault();
          refreshProblems();
        }
      });
    }

    // Initialize everything
    document.addEventListener('DOMContentLoaded', function() {
      loadProblems();
      setupKeyboardShortcuts();
      simulateRealTimeUpdates();
      
      // Search input event listener
      document.getElementById('searchInput').addEventListener('input', filterProblems);
      document.getElementById('sortSelect').addEventListener('change', filterProblems);
      
      // Filter checkboxes event listeners
      const filterCheckboxes = document.querySelectorAll('.filter-option input[type="checkbox"]');
      filterCheckboxes.forEach(checkbox => {
        checkbox.addEventListener('change', filterProblems);
      });
      
      // Proposal form submission
      document.getElementById('proposalForm').addEventListener('submit', submitProposal);
      
      // Modal close events
      document.getElementById('closeModal').addEventListener('click', closeModal);
      
      // Close modal when clicking outside
      document.getElementById('problemModal').addEventListener('click', (e) => {
        if (e.target.id === 'problemModal') {
          closeModal();
        }
      });
      
      // Refresh button
      document.querySelector('.sidebar .btn.primary').addEventListener('click', refreshProblems);
      
      // Show welcome notification
      setTimeout(() => {
        showNotification('üëã Welcome back! You have 3 new messages and 12 new problems to explore.', 'info');
      }, 1000);
      
      // Performance monitoring
      const observer = new PerformanceObserver((list) => {
        for (const entry of list.getEntries()) {
          if (entry.entryType === 'navigation') {
            console.log('Page load time:', entry.loadEventEnd - entry.loadEventStart, 'ms');
          }
        }
      });
      observer.observe({ entryTypes: ['navigation'] });
    });

    // Global functions
    window.viewProblem = viewProblem;
    window.applyToProblem = applyToProblem;
    window.closeModal = closeModal;
    
    // Service worker for offline support
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/solver-sw.js')
          .then(registration => {
            console.log('Solver SW registered:', registration.scope);
          })
          .catch(error => {
            console.log('Solver SW registration failed:', error);
          });
      });
    }

    // Analytics tracking
    function trackAction(action, data = {}) {
      console.log('üìä Solver Analytics:', action, data);
      // In real app, send to analytics service
    }

    // Track user interactions
    document.addEventListener('click', (e) => {
      if (e.target.matches('.btn.success')) {
        trackAction('proposal_started', { problemId: e.target.closest('.problem-card')?.dataset.id });
      }
      if (e.target.matches('.btn-outline')) {
        trackAction('problem_viewed', { problemId: e.target.closest('.problem-card')?.dataset.id });
      }
    });

    // Auto-save search preferences
    function saveUserPreferences() {
      const preferences = {
        searchTerm: document.getElementById('searchInput').value,
        sortBy: document.getElementById('sortSelect').value,
        filters: {
          categories: Array.from(document.querySelectorAll('.filter-option input[type="checkbox"]:checked')).map(cb => cb.id),
        }
      };
      
      localStorage.setItem('solverPreferences', JSON.stringify(preferences));
    }

    // Load user preferences
    function loadUserPreferences() {
      const saved = localStorage.getItem('solverPreferences');
      if (saved) {
        const preferences = JSON.parse(saved);
        
        if (preferences.searchTerm) {
          document.getElementById('searchInput').value = preferences.searchTerm;
        }
        if (preferences.sortBy) {
          document.getElementById('sortSelect').value = preferences.sortBy;
        }
        if (preferences.filters?.categories) {
          preferences.filters.categories.forEach(filterId => {
            const checkbox = document.getElementById(filterId);
            if (checkbox) checkbox.checked = true;
          });
        }
      }
    }

    // Save preferences when user makes changes
    document.addEventListener('DOMContentLoaded', () => {
      loadUserPreferences();
      
      // Save preferences on input changes
      document.getElementById('searchInput').addEventListener('input', saveUserPreferences);
      document.getElementById('sortSelect').addEventListener('change', saveUserPreferences);
      
      document.querySelectorAll('.filter-option input[type="checkbox"]').forEach(checkbox => {
        checkbox.addEventListener('change', saveUserPreferences);
      });
    });
  </script>

  <!-- Add some additional CSS for animations -->
  <style>
    @keyframes slideInRight {
      from {
        transform: translateX(100%);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    .notification {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .notification button {
      background: none;
      border: none;
      color: var(--text-muted);
      cursor: pointer;
      font-size: 1.2rem;
      padding: 0;
      margin-left: 1rem;
    }

    .notification button:hover {
      color: var(--text-light);
    }

    /* Enhanced hover effects */
    .problem-card {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .problem-card:hover .problem-title {
      color: var(--neon-blue);
    }

    /* Smooth scrolling */
    html {
      scroll-behavior: smooth;
    }

    /* Focus styles for accessibility */
    .btn:focus,
    input:focus,
    textarea:focus,
    select:focus {
      outline: 2px solid var(--neon-blue);
      outline-offset: 2px;
    }

    /* Loading animation improvements */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .problem-card {
      animation: fadeInUp 0.6s ease-out;
      animation-fill-mode: both;
    }
  </style>
</body>
</html>
